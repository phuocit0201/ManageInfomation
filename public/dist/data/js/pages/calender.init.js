!function(n){"use strict";var e,t,l,r;n("#event-category").length&&n("#event-category").select2(),window.FullCalendar?(n("#external-events .fc-event").each(function(){var e={title:n.trim(n(this).text()),className:n.trim(n(this).attr("class"))};n(this).data("eventObject",e),n(this).draggable({zIndex:999,revert:!0,revertDuration:0})}),t=(e=new Date).getDate(),l=e.getMonth(),r=e.getFullYear(),n("#fc_calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,basicWeek,basicDay"},editable:!0,eventLimit:!0,droppable:!0,drop:function(e,t){var a=n(this).data("eventObject"),a=n.extend({},a);a.start=e,a.allDay=t,n("#fc_calendar").fullCalendar("renderEvent",a,!0),n("#drop-remove").is(":checked")&&n(this).remove()},events:[{title:"All Day Event",start:new Date(r,l,1),className:"bg-info"},{title:"Long Event",start:new Date(r,l,t-5),end:new Date(r,l,t-2)},{id:999,title:"Repeating Event",start:new Date(r,l,t-3,16,0),allDay:!1,className:"bg-danger"},{id:999,title:"Repeating Event",start:new Date(r,l,t+4,16,0),allDay:!1},{title:"Meeting",start:new Date(r,l,t,10,30),allDay:!1,className:"bg-warning"},{title:"Lunch",start:new Date(r,l,t,12,0),end:new Date(r,l,t,14,0),allDay:!1},{title:"Birthday Party",start:new Date(r,l,t+1,19,0),end:new Date(r,l,t+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(r,l,28),end:new Date(r,l,29),url:"http://google.com/"}]}),n("#add_event_form").on("submit",function(e){e.preventDefault();var t,e=n(this).find(".form-control"),a=e.val();(3<=a.length?(t="new"+Math.random().toString(36).substring(7),n("#external-events").append('<div id="'+t+'" class="fc-event">'+a+"</div>"),a={title:n.trim(n("#"+t).text())},n("#"+t).data("eventObject",a),n("#"+t).draggable({revert:!0,revertDuration:0,zIndex:999}),e.val("")):e).focus()}),n("#fc_calendar").fullCalendar("renderEvent",{},!0)):alert("Calendar plugin is not installed"),n("#createEventForm").find(".form-control").on("change",function(){""===n(this).val()?n(this).addClass("is-invalid"):n(this).removeClass("is-invalid")}),n("#createEventForm").on("submit",function(e){e.preventDefault();var t=!0,a={start:new Date(r,l,28),end:new Date(r,l,29)};if(n(this).find(".form-control").each(function(){var e;""===n(this).val()?(n(this).addClass("is-invalid"),t=!1):(e=n(this).attr("data-key"),a[e]=n(this).val(),n(this).removeClass("is-invalid"))}),t)return n("#fc_calendar").fullCalendar("renderEvent",a,!0),n(this).find(".floating-label").removeClass("enable-floating-label"),n(this)[0].reset(),n("#addeventmodal").modal("toggle"),t})}(jQuery);