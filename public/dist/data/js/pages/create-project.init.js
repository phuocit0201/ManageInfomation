function keyToText(){return{step0:"Project Details Review",step1:"Client Details Review",step2:"Documents Review","validation-projectname":"Project Name","validation-projectowner":"Project Owner","validation-start":"Project Start Date","validation-end":"Project End Date","validation-budget":"Project Budget","validation-member":"Project Team","validation-tags":"PRoject Tags","validation-desc":"Project Description","validation-clientname":"Client Name","validation-clientaddress":"Client Address","validation-email":"Client Email","validation-personname":"Client Contact Person","validation-company":"Client Description","validation-logo":"Client Logo","validation-documents":"Documents"}}function initiliazeSmartWizard(t,n,o,r){var l=0;const s=document.querySelectorAll('#project-tabs [data-bs-toggle="tab"]');$(".wizard .previous").children(".btn").attr("disabled","true"),$(".wizard .next").on("click",function(){var i,a,e;3===l?(alert("see console logs"),console.log("Form Data ==>",n)):($("#step-"+l).length&&$("#step-"+l).trigger("click"),0===l?n.step0.data["validation-desc"]=CKEDITOR.instances["project-desc"].getData():1===l?(n.step1.data["validation-company"]=CKEDITOR.instances["company-desc"].getData(),i=[],o&&o.files.length&&(o.files.forEach(function(e,t){i.push(e.name)}),n.step1.data["validation-logo"]=i.join(", "))):2===l&&(a=[],r&&r.files.length?(r.files.forEach(function(e,t){a.push(e.name)}),n.step2.data["validation-documents"]=a.join(", ")):n.step2.data["validation-documents"]=[],generateHTML(n,t)),n["step"+l].valid&&(l+=1,(e=s[l])&&e.click(),3===l)&&$(this).children(".btn").text("Finish").removeClass("btn-primary").addClass("btn-success"),0<l&&$(".wizard .previous").children(".btn").removeAttr("disabled"))}),$(".wizard .previous").on("click",function(){l-=1,s[l].click(),l<3&&$(".wizard .next").children(".btn").text("Next").addClass("btn-primary").removeClass("btn-success"),l<1&&$(this).children(".btn").attr("disabled","true")})}function generateHTML(e,t){$("#review-data").html("");var i,a=$("#review-data");for(i in e){var n,o=document.createElement("div"),r=(o.classList.add("project-review-list"),document.createElement("h5")),l=(r.classList.add("fs-16","mb-4","fw-semibold"),r.innerHTML=t[i],$(o).append(r),"");for(n in e[i].data)l+='<div class="row"><div class="col-md-4 col-lg-3 col-xl-2"> <h6>'+t[n]+'</h6></div><div class="col-md-8 col-lg-9 col-xl-10"> <div class="html">'+e[i].data[n]+"</div></div></div>";r=$.parseHTML(l);$(o).append(r),$(a).append(o)}}function validateStep0(a){return $("#project-details").validate({focusInvalid:!1,rules:{"validation-projectname":{required:!0},"validation-projectowner":{required:!0},"validation-start":{required:!0},"validation-end":{required:!0},"validation-budget":{required:!0}},errorPlacement:function(e,t){return $(t).parents(".ckeditor").length||$(t).siblings(".validation-error").removeClass("d-none"),!0},highlight:function(e){var t=$(e).parents(".form-group");$(e).parents(".ckeditor").length||t.addClass("invalid-field"),a.step0.valid=!1},unhighlight:function(e){$(e).parents(".form-group").removeClass("invalid-field"),$(e).parents(".ckeditor").length||$(e).siblings(".validation-error").addClass("d-none")},submitHandler:function(e){a.step0.valid=!0;var e=$(e).serializeArray(),i={};$(e).each(function(e,t){i[t.name]=t.value}),a.step0.data=i}}),!!$("#project-details").valid()}function validateStep1(a,e,t){return $("#client-details").validate({focusInvalid:!1,rules:{"validation-clientname":{required:!0},"validation-clientaddress":{required:!0},"validation-email":{required:!0,email:!0},"validation-personname":{required:!0}},errorPlacement:function(e,t){return $(t).parents(".ckeditor").length||$(t).siblings(".validation-error").removeClass("d-none"),!0},highlight:function(e){var t=$(e).parents(".form-group");$(e).parents(".ckeditor").length||t.addClass("invalid-field"),a.step1.valid=!1},unhighlight:function(e){$(e).parents(".form-group").removeClass("invalid-field"),$(e).parents(".ckeditor").length||$(e).siblings(".validation-error").addClass("d-none")},submitHandler:function(e){a.step1.valid=!0;var e=$(e).serializeArray(),i={};$(e).each(function(e,t){i[t.name]=t.value}),a.step1.data=i}}),!!$("#client-details").valid()}function initializeCKEditor(){$("#project-desc").length&&CKEDITOR.replace("project-desc"),$("#company-desc").length&&CKEDITOR.replace("company-desc")}function initializeCompanyLogoDropzone(){return new Dropzone(document.getElementById("companylogo"),{url:"http://matrrdigital.com/themes/dropzone",previewsContainer:"#client-file-previews",previewTemplate:$("#clientPreviewTemplate").html(),success:function(e,t){e.previewElement.classList.add("dz-success"),console.log("Successfully uploaded :"+t)},error:function(e,t){console.log("response",t),e.previewElement.classList.add("dz-error")}})}function initializeProjectFilesDropzone(){return new Dropzone(document.getElementById("projectfiles"),{url:"http://matrrdigital.com/themes/dropzone",previewsContainer:"#project-file-previews",previewTemplate:$("#projectPreviewTemplate").html(),success:function(e,t){e.previewElement.classList.add("dz-success"),console.log("Successfully uploaded :"+t)},error:function(e,t){console.log("response",t),e.previewElement.classList.add("dz-error")}})}!function(e){var t={step0:{data:{},valid:Dropzone.autoDiscover=!1},step1:{data:{},valid:!1},step2:{data:{},valid:!0}},i=keyToText(),a=(e("#startdate").length&&e("#startdate").flatpickr({disableMobile:!0}),e("#enddate").length&&e("#enddate").flatpickr({disableMobile:!0}),e("#projectTags").length&&e("#projectTags").tagsinput({trimValue:!0}),e("#projectTeam").length&&e("#projectTeam").select2(),initializeCKEditor(),initializeCompanyLogoDropzone()),n=initializeProjectFilesDropzone();e("#step-0").on("click",function(){validateStep0(t)}),e("#step-1").on("click",function(){validateStep1(t)}),initiliazeSmartWizard(i,t,a,n)}(jQuery);